"use strict";(self.webpackChunktopcoding=self.webpackChunktopcoding||[]).push([[968],{6354:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"nodejs-design-patterns/creational-design-patterns","title":"Chapter 7. Creational Design Patterns","description":"\u0420\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430\u043c\u0435 Creational Design Patterns. \u041f\u043e \u0441\u0430\u043c\u043e\u0442\u043e \u043d\u0430\u0438\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u0440\u0430\u0437\u0431\u0435\u0440\u0435\u043c, \u0432\u0441\u044a\u0449\u043d\u043e\u0441\u0442 \u0437\u0430 \u043a\u0430\u043a\u0432\u043e \u043d\u0438 \u043f\u043e\u043c\u0430\u0433\u0430\u0442 \u0442\u0435\u0437\u0438 pattern-\u0438, \u0430 \u0442\u043e \u0435 \u0437\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 \u043e\u0431\u0435\u043a\u0442\u0438 \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u0438 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438. \u041f\u043e \u043f\u0440\u0438\u043d\u0446\u0438\u043f \u0442\u0435\u0437\u0438 pattern-\u0438 \u0441\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0435\u043d\u0438 \u043e\u0442 the GoF \u0437\u0430 \u0434\u0440\u0443\u0433\u0438 \u043e\u0431\u0435\u043a\u0442\u043d\u043e \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u0430\u043d\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0438 \u0435\u0437\u0438\u0446\u0438, \u043d\u043e \u0432 \u043a\u043d\u0438\u0433\u0430\u0442\u0430 \u0441\u0435 \u0440\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430 \u0442\u044f\u0445\u043d\u0430\u0442\u0430 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u044f \u0432 Node.js.","source":"@site/docs/nodejs-design-patterns/7. creational-design-patterns.mdx","sourceDirName":"nodejs-design-patterns","slug":"/nodejs-design-patterns/creational-design-patterns","permalink":"/notes/docs/nodejs-design-patterns/creational-design-patterns","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"Chapter 7. Creational Design Patterns","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 6. Coding with Streams","permalink":"/notes/docs/nodejs-design-patterns/coding-with-streams"},"next":{"title":"Chapter 8. Structural Design Patterns","permalink":"/notes/docs/nodejs-design-patterns/structural-design-patterns"}}');var r=n(4848),o=n(8453);const a={title:"Chapter 7. Creational Design Patterns",sidebar_position:7},c=void 0,i={},l=[];function d(e){const t={code:"code",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"\u0420\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430\u043c\u0435 Creational Design Patterns. \u041f\u043e \u0441\u0430\u043c\u043e\u0442\u043e \u043d\u0430\u0438\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u0440\u0430\u0437\u0431\u0435\u0440\u0435\u043c, \u0432\u0441\u044a\u0449\u043d\u043e\u0441\u0442 \u0437\u0430 \u043a\u0430\u043a\u0432\u043e \u043d\u0438 \u043f\u043e\u043c\u0430\u0433\u0430\u0442 \u0442\u0435\u0437\u0438 pattern-\u0438, \u0430 \u0442\u043e \u0435 \u0437\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 \u043e\u0431\u0435\u043a\u0442\u0438 \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u0438 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438. \u041f\u043e \u043f\u0440\u0438\u043d\u0446\u0438\u043f \u0442\u0435\u0437\u0438 pattern-\u0438 \u0441\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0435\u043d\u0438 \u043e\u0442 the GoF \u0437\u0430 \u0434\u0440\u0443\u0433\u0438 \u043e\u0431\u0435\u043a\u0442\u043d\u043e \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u0430\u043d\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0438 \u0435\u0437\u0438\u0446\u0438, \u043d\u043e \u0432 \u043a\u043d\u0438\u0433\u0430\u0442\u0430 \u0441\u0435 \u0440\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430 \u0442\u044f\u0445\u043d\u0430\u0442\u0430 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u044f \u0432 Node.js."}),"\n",(0,r.jsxs)(t.p,{children:["\u0417\u0430\u043f\u043e\u0447\u0432\u0430\u043c\u0435 Factory Pattern-\u0430, \u0442\u043e\u0439 \u043d\u0438 \u043f\u043e\u043c\u0430\u0433\u0430 \u0434\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043c\u0435 \u043e\u0431\u0435\u043a\u0442\u0438 \u0447\u0440\u0435\u0437 factory \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u043c\u0435\u0441\u0442\u043e \u0447\u0440\u0435\u0437 ",(0,r.jsx)(t.code,{children:"new"}),". \u0417\u0430\u0449\u043e \u0442\u043e\u0432\u0430 \u0435 \u043f\u043e\u043b\u0435\u0437\u043d\u043e? \u0417\u0430\u0449\u043e\u0442\u043e \u0447\u0440\u0435\u0437 \u0442\u0430\u0437\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u043c \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u043d\u043e \u0434\u0430 \u0438\u0437\u0431\u0438\u0440\u0430\u043c\u0435 \u043a\u0430\u043a\u044a\u0432 \u043a\u043b\u0430\u0441 \u0434\u0430 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438\u0440\u0430\u043c\u0435, \u0442\u043e\u0435\u0441\u0442 \u0434\u043e\u0431\u0430\u0432\u044f\u043c\u0435 \u0435\u0434\u043d\u0430 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u044f \u043d\u0430\u0434 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u043e\u0431\u0435\u043a\u0442\u0438, \u043a\u043e\u0435\u0442\u043e \u043f\u0440\u0430\u0432\u0438 \u0438\u0437\u0431\u0438\u0440\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u043a\u043b\u0430\u0441 \u0437\u0430 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438\u0440\u0430\u043d\u0435 \u043f\u043e-\u0433\u044a\u0432\u043a\u0430\u0432\u043e. \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0439\u043a\u0438, factory \u0440\u0435\u0430\u043b\u043d\u043e \u0435\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u0438\u0440\u0430\u043c\u0435 \u0434\u0435\u0442\u0430\u0439\u043b\u0438 \u043f\u043e \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u043e\u0431\u0435\u043a\u0442\u0438. \u041f\u0440\u0438\u043c\u0435\u0440:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"class ConsoleLogger {\n  log(message) {\n\t\tconsole.log(message); \n  }\n}\nclass FileLogger {\n\tconstructor(filename) {\n\t\tthis.filename = filename;\n\t}\n\tlog(message) {\n\t\t// Write to file\n\t}\n}\n\nfunction createLogger(type) {\n\tif (type === 'file') {\n\t\treturn new FileLogger('app.log');\n\t} else {\n\t\treturn new ConsoleLogger();\n\t}\n}\n\nconst logger = createLogger(process.env.LOG_TARGET);  // 'console' or 'file'\nlogger.log('Hello World');\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u0422\u043e\u0432\u0430, \u043a\u043e\u0435\u0442\u043e \u0441\u0435 \u0441\u043b\u0443\u0447\u0432\u0430 \u0432 \u043a\u043e\u0434\u0430 \u043f\u043e-\u0433\u043e\u0440\u0435 \u0435, \u0447\u0435 \u043d\u0430 \u0431\u0430\u0437\u0430 use case, factory \u0444\u0443\u043a\u0446\u0438\u044f\u0442\u0430 \u0438\u0437\u0431\u0438\u0440\u0430 \u043a\u0430\u043a\u044a\u0432 \u043b\u043e\u0433\u0435\u0440 \u0434\u0430 \u043d\u0438 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438\u0440\u0430. \u0421\u044a\u043e\u0442\u0432\u0435\u0442\u043d\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043d\u0430 \u043b\u043e\u0433\u0435\u0440\u0438\u0442\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u044a\u0432\u043f\u0430\u0434\u0430 \u0437\u0430 \u0434\u0430 \u0438\u043c\u0430 \u043f\u0440\u0430\u0432\u0438\u043b\u043d\u043e \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d\u0435. \u041a\u0430\u043a\u0442\u043e \u0432\u0438\u0436\u0434\u0430\u043c\u0435 factory \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0442\u0430 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u043b\u0435\u0441\u043d\u043e \u0438 \u0438\u043d\u0442\u0443\u0438\u0442\u0438\u0432\u043d\u043e, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u044f \u043b\u0435\u0441\u0435\u043d \u0410\u041f\u0418, \u043a\u0430\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u044f \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u044f \u0438 \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0430\u0432\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0442\u043e\u0432\u0430 \u0434\u0430 \u0437\u043d\u0430\u0435, \u043a\u043e\u0439 \u0442\u043e\u0447\u043d\u043e \u043a\u043b\u0430\u0441 \u0441\u0435 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438\u0440\u0430. \u0421\u044a\u043e\u0442\u0432\u0435\u0442\u043d\u043e \u0437\u0430 \u043f\u043e-\u043f\u0440\u043e\u0441\u0442\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0438 \u043f\u043e\u043d\u044f\u043a\u043e\u0433\u0430 \u0442\u043e\u0437\u0438 pattern \u0435 \u043d\u0435\u043d\u0443\u0436\u0435\u043d, \u043d\u043e \u0442\u043e\u0432\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0433\u043e \u043f\u0440\u0435\u0446\u0435\u043d\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0438\u0441\u0442\u0430. \u0420\u0435\u0430\u043b\u0435\u043d \u043f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0442\u043e\u0437\u0438 patter e ",(0,r.jsx)(t.code,{children:"http.createServer()"}),", \u0442\u043e\u0432\u0430 \u043a\u043e\u0435\u0442\u043e \u0441\u0435 \u0441\u043b\u0443\u0447\u0432\u0430 \u0432\u044a\u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0442\u0430 \u0435 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438\u0440\u0430\u043d\u0435\u0442\u043e ",(0,r.jsx)(t.code,{children:"new Server()"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"Builder pattern-a \u043f\u044a\u043a \u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e \u0437\u0430 \u0441\u0438\u043c\u043f\u043b\u0438\u0444\u0438\u0446\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0441\u043b\u043e\u0436\u043d\u0438 \u043e\u0431\u0435\u043a\u0442\u0438, \u0447\u0438\u0438\u0442\u043e \u043a\u043b\u0430\u0441\u043e\u0432\u0435 \u0438\u043c\u0430\u0442 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0438, \u043a\u043e\u0438\u0442\u043e \u043f\u0440\u0438\u0435\u043c\u0430\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0438. Builder-\u0438\u0442\u0435 \u0441\u0430 \u0443\u0434\u043e\u0431\u043d\u0438 \u043a\u043e\u0433\u0430\u0442\u043e \u0438\u043c\u0430\u043c\u0435 \u0434\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0430\u043c\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0430 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u044f. \u0427\u0440\u0435\u0437 \u0442\u043e\u0437\u0438 pattern \u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043c \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f, \u043b\u0435\u0441\u0435\u043d \u0438 \u0438\u043d\u0442\u0443\u0442\u0438\u0432\u0435\u043d \u043f\u043e\u0434\u0445\u043e\u0434 \u0437\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f, \u043a\u0430\u0442\u043e \u0441\u044a\u0449\u043e \u0442\u0430\u043a\u0430 \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0430\u043c\u0435 \u0434\u0430\u043b\u0438 \u0441\u043c\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043d\u0443\u0436\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u0438 \u0438 \u043d\u0430\u043a\u0440\u0430\u044f \u0434\u0430 \u043c\u0443 \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u043c \u043e\u0431\u043a\u0435\u0442\u0430, \u043e\u0442 \u043a\u043e\u0439\u0442\u043e \u0442\u043e\u0439 \u0441\u0435 \u043d\u0443\u0436\u0434\u0430\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"class UrlBuilder {\n\tsetProtocol(protocol) {\n\t\tthis.protocol = protocol;\n\t\treturn this;\n\t}\n\tsetHost(host) {\n\t\tthis.host = host;\n\t\treturn this;\n\t}\n\tsetPort(port) {\n\t\tthis.port = port;\n\t\treturn this;\n\t}\n\tsetPath(path) {\n\t\tthis.path = path;\n\t\treturn this;\n\t}\n\tbuild() {\n\t\treturn new Url(this.protocol, this.host, this.port, this.path);\n\t}\n}\n\nconst url = new UrlBuilder()\n\t.setProtocol('https')\n\t.setHost('example.com')\n\t.setPath('api/v1')\n\t.setPort(443)\n\t.build();\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u0427\u0440\u0435\u0437 \u0442\u043e\u0437\u0438 builder class \u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u043c \u0435\u0434\u043d\u043e \u043f\u043e \u0435\u0434\u043d\u043e \u0434\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0430\u043c\u0435 \u0432\u0441\u0438\u0447\u043a\u0438 \u043d\u0443\u0436\u043d\u0438 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 url, \u0432\u043c\u0435\u0441\u0442\u043e \u0434\u0430 \u0433\u0438 \u043f\u043e\u0434\u0430\u0432\u0430\u043c\u0435 \u0432\u0441\u0438\u0447\u043a\u0438 \u0437\u043d\u0430\u0435\u0434\u043e \u0432 \u0441\u043b\u043e\u0436\u0435\u043d \u0441\u043f\u0438\u0441\u044a\u043a \u043e\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0438. \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0439\u043a\u0438 \u0442\u043e\u0437\u0438 pattern, \u043d\u0438\u0435 \u043f\u043e\u0434\u043e\u0431\u0440\u044f\u0432\u0430\u043c\u0435 \u044f\u0441\u043d\u043e\u0442\u0430\u0442\u0430 \u043d\u0430 \u043d\u0430\u0448\u0438\u044f\u0442 \u043a\u043e\u0434, \u0447\u0440\u0435\u0437 \u0434\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u0438\u0437\u0431\u0435\u0433\u043d\u0435\u043c \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u0438 \u0434\u0430\u043d\u043d\u0438 \u0438 \u0442.\u043d., \u0437\u0430 \u0441\u043c\u0435\u0442\u043a\u0430 \u043d\u0430 \u0442\u043e\u0432\u0430 \u043e\u0431\u0430\u0447\u0435 \u043f\u0438\u0448\u0435\u043c \u043f\u043e\u0432\u0435\u0447\u0435 \u043a\u043e\u0434 \u0438 \u0441\u044a\u043e\u0442\u0432\u0435\u0442\u043d\u043e \u0438\u043c\u0430\u043c\u0435 \u043f\u043e\u0432\u0435\u0447\u0435 \u043a\u043e\u0434 \u0437\u0430 \u043f\u043e\u0434\u0434\u0440\u044a\u0436\u043a\u0430. \u0412 JS \u0432\u0441\u044a\u0449\u043d\u043e\u0441\u0442 builder pattern-a \u0435 \u043c\u043d\u043e\u0433\u043e \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u043a\u0430\u0442\u043e express, knex, jQuery, superagent, axios, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"superagent\n\t.post('https://api.example.com/data')\n\t.send({ name: 'Alice' })\n\t.set('Accept', 'application/json')\n\t.then(res => console.log(res.body));\n"})}),"\n",(0,r.jsx)(t.p,{children:'\u041f\u0440\u043e\u0434\u044a\u043b\u0436\u0430\u0432\u0430\u043c\u0435 \u0441 Revealing Constructor Pattern-\u0430, \u043a\u043e\u0439\u0442\u043e \u0435 \u043f\u043e-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u043d \u0437\u0430 JavaScript (\u0438 \u043e\u0441\u043e\u0431\u0435\u043d\u043e \u0437\u0430 Node.js), \u0442\u044a\u0439 \u043a\u0430\u0442\u043e \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0438\u0442\u0435 \u043a\u0430\u0442\u043e first-class citizens. \u0418\u0434\u0435\u044f\u0442\u0430 \u043d\u0430 \u0442\u043e\u0437\u0438 pattern \u0435 \u0434\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043c \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d \u0434\u043e\u0441\u0442\u044a\u043f \u0434\u043e \u0432\u044a\u0442\u0440\u0435\u0448\u043d\u043e\u0442\u043e \u0441\u044a\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043d\u0430 \u043e\u0431\u0435\u043a\u0442\u0430 \u0441\u0430\u043c\u043e \u043f\u043e \u0432\u0440\u0435\u043c\u0435 \u043d\u0430 \u043d\u0435\u0433\u043e\u0432\u043e\u0442\u043e \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435 \u2013 \u0442\u043e\u0435\u0441\u0442, \u0434\u0430 "\u0440\u0430\u0437\u043a\u0440\u0438\u0435\u043c" (reveal-\u043d\u0435\u043c) \u0447\u0430\u0441\u0442 \u043e\u0442 private \u0434\u0430\u043d\u043d\u0438\u0442\u0435 \u0437\u0430 \u0435\u0434\u043d\u043e\u043a\u0440\u0430\u0442\u043d\u0430 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f. \u0421\u043b\u0435\u0434 \u0442\u043e\u0432\u0430 \u0442\u043e\u0437\u0438 \u0434\u043e\u0441\u0442\u044a\u043f \u0441\u0435 \u0433\u0443\u0431\u0438 \u0438 \u043e\u0431\u0435\u043a\u0442\u044a\u0442 \u0441\u0442\u0430\u0432\u0430 \u043d\u0430\u043f\u044a\u043b\u043d\u043e \u043a\u0430\u043f\u0441\u0443\u043b\u0438\u0440\u0430\u043d. \u0422\u043e\u0432\u0430 \u0441\u0435 \u043f\u043e\u0441\u0442\u0438\u0433\u0430 \u0447\u0440\u0435\u0437 \u043f\u043e\u0434\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 executor \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430. \u041d\u0430\u0439-\u0434\u043e\u0431\u0440\u0438\u044f\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430 \u0442\u043e\u0437\u0438 pattern \u0441\u0430 promises:'}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:'const myPromise = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve("Done!");\n  }, 1000);\n});\n'})}),"\n",(0,r.jsx)(t.p,{children:'\u041a\u0430\u043a\u0442\u043e \u0437\u043d\u0430\u0435\u043c \u043d\u0438\u0435 \u043f\u043e\u0434\u0430\u0432\u0430\u043c\u0435 "executor" \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043c\u0435 \u043d\u043e\u0432 promise, \u043d\u0430 \u0442\u0430\u0437\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0441\u0435 \u0434\u0430\u0432\u0430 \u0434\u043e\u0441\u0442\u044a\u043f \u0434\u043e resole & reject callbacks, \u0447\u0440\u0435\u0437 \u043a\u043e\u0438\u0442\u043e \u0441\u0435 \u0434\u043e\u0441\u0442\u044a\u043f\u0432\u0430 internal state-a \u043d\u0430 promise-a, \u0442\u043e\u0435\u0441\u0442 promise status-a. \u041d\u0438\u0435 \u0442\u0443\u043a \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0446\u0438\u0440\u0430\u043c\u0435, \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0434\u0430 \u0441\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u043f\u0440\u0438 \u043a\u0430\u043a\u0432\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u044f, \u0432\u0435\u0434\u043d\u044a\u0436 \u0449\u043e\u043c \u0441\u043c\u0435 \u0441\u044a\u0437\u0434\u0430\u043b\u0438 promise-a, \u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u043c \u0441\u0430\u043c\u043e \u0434\u0430 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0432\u0430\u043c\u0435 \u043f\u0440\u043e\u043c\u044f\u043d\u0430\u0442\u0430. \u0414\u0440\u0443\u0433 \u043f\u0440\u0438\u043c\u0435\u0440:'}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"class SecureVault {\n\t#secret;\n\tconstructor(initializer) {\n\t\tconst initSecret = (value) => {\n\t\t\tthis.#secret = value;\n\t\t}\n\t\t\n\t\tinitializer(initSecret);\n\t\tObject.freeze(this);\n\t}\n\tgetSecret() {\n\t\treturn this.#secret;\n\t}\n}\n\nconst vault = new SecureVault(initSecret => {\n\tconst user = authenticate();\n\tinitSecret(user.secret);\n});\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u0412 \u0442\u043e\u0437\u0438 \u043f\u0440\u0438\u043c\u0435\u0440 SecureVault \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430 Revealing Constructor Pattern, \u0437\u0430 \u0434\u0430 \u0434\u0430\u0434\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043d \u0434\u043e\u0441\u0442\u044a\u043f \u0434\u043e ",(0,r.jsx)(t.code,{children:"#secret"})," \u0441\u0430\u043c\u043e \u0447\u0440\u0435\u0437 ",(0,r.jsx)(t.code,{children:"initSecret"}),". \u0422\u0430\u043a\u0430 \u0431\u0438\u0445\u043c\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043b\u0438 \u043a\u043b\u0430\u0441\u0430, \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u0442\u043e\u0439\u043d\u043e\u0441\u0442\u0442\u0430 \u043d\u0435 \u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u0442\u0440\u0438\u043d\u0433, \u0430 \u0435 \u0440\u0435\u0437\u0443\u043b\u0442\u0430\u0442 \u043e\u0442 \u043b\u043e\u0433\u0438\u043a\u0430, \u043a\u0430\u0442\u043e \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u043a\u0430\u0446\u0438\u044f. \u0421\u043b\u0435\u0434 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435 \u043d\u0430 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430 ",(0,r.jsx)(t.code,{children:"#secret"})," \u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d, \u0434\u043e\u0441\u0442\u044a\u043f\u044a\u0442 \u0434\u043e ",(0,r.jsx)(t.code,{children:"initSecret"})," \u0435 \u0438\u0437\u0447\u0435\u0437\u043d\u0430\u043b, \u043e\u0431\u0435\u043a\u0442\u044a\u0442 \u0435 \u0437\u0430\u043c\u0440\u0430\u0437\u0435\u043d ",(0,r.jsx)(t.code,{children:"Object.freeze(this)"}),", \u0442.\u0435. immutable."]}),"\n",(0,r.jsx)(t.p,{children:"\u0421\u043b\u0435\u0434\u0432\u0430\u0449\u0438\u044f\u0442 pattern e Singleton-\u0430, \u0442\u043e\u0432\u0430 \u0435 \u0435\u0434\u0438\u043d \u043e\u0442 \u043d\u0430\u0439-\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0438\u0442\u0435 pattern-\u0438 \u0438 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0437\u0430 \u0434\u0430 \u043e\u0441\u0438\u0433\u0443\u0440\u0438\u043c \u0435\u0434\u043d\u0430 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u0430 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u044f \u043d\u0430 \u043a\u043b\u0430\u0441, \u043a\u044a\u043c \u043a\u043e\u044f\u0442\u043e \u0438\u043c\u0430\u043c\u0435 \u0433\u043b\u043e\u0431\u0430\u043b\u0435\u043d \u0434\u043e\u0441\u0442\u044a\u043f \u0438\u0437 \u0446\u044f\u043b\u0430\u0442\u0430 \u0430\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u044f. \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043c\u0435 \u0442\u043e\u0437\u0438 pattern \u0437\u0430 \u0434\u0430 \u0441\u043f\u043e\u0434\u0435\u043b\u044f\u043c\u0435 \u0438 \u043f\u0440\u0435\u0434\u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043c\u0435 \u0434\u0430\u043d\u043d\u0438 \u0438/\u0438\u043b\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0438, \u043a\u043e\u0438\u0442\u043e \u0441\u0430 \u043a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u0438 \u043d\u0430\u0432\u0441\u044f\u043a\u044a\u0434\u0435. \u041d\u0430\u0439-\u043a\u043b\u0430\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u044f\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u0435 \u043e\u0431\u0435\u043a\u0442 \u0437\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u0438"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"class Database {\n\tconstructor(dbName, connectionDetails) {\n\t\tthis.connection = this.connect(connectionDetails)\n\t}\n\tconnect(connectionDetails) {\n\t\t// Connect\n\t}\n\tquery(sql) {\n\t\t// Some query\n\t}\n}\n\nexport const db = new Database('mydb', {\n\turl: 'localhost:3000', username: 'user', password: 'password'\n});\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"import { db } from './database'\ndb.query(\"SELECT * FROM users\");\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u041a\u044a\u0434\u0435\u0442\u043e \u0438 \u0434\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0430\u043c \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u044f\u0442\u0430, \u0442\u044f \u0449\u0435 \u0435 \u0435\u0434\u043d\u0430 \u0438 \u0441\u044a\u0449\u0430, \u043a\u0430\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0442\u043e \u0435 \u0447\u0435 \u0442\u0443\u043a \u0441\u0435 \u0432\u044a\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043c\u0435 \u043e\u0442 \u043c\u043e\u0434\u0443\u043b\u043d\u0430\u0442\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0430 Node \u0438 \u043a\u044a\u0434\u0435\u0442\u043e \u0438 \u0434\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u0435\u043c \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u044f\u0442\u0430 \u043d\u0438\u0435 \u0449\u0435 \u044f \u0432\u0437\u0435\u043c\u0435\u043c \u043e\u0442 \u043a\u0435\u0448\u0430 \u043d\u0430 \u043c\u043e\u0434\u0443\u043b\u043d\u0430\u0442\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430, \u0441\u043b\u0435\u0434 \u043f\u044a\u0440\u0432\u043e\u0442\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0432\u0430\u043d\u0435. \u0422\u043e\u0437\u0438 pattern \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u0435 \u043f\u0440\u0438\u043b\u0430\u0433\u0430 \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u043d\u043e, \u043c\u043d\u043e\u0433\u043e \u043b\u0435\u0441\u043d\u043e \u0431\u0430\u0437\u0430\u0442\u0430 \u0434\u0430\u043d\u043d\u0438 \u043c\u043e\u0436\u0435 \u0434\u0430 \u0441\u0435 \u043f\u0440\u0435\u0432\u044a\u0440\u043d\u0435 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u043d\u0430 \u043f\u0440\u043e\u043c\u0435\u043d\u043b\u0438\u0432\u0430 \u0438 \u0434\u0430 \u0441\u044a\u0437\u0434\u0430\u0434\u0435 tight dependency \u0438 \u0442\u0430\u043a\u0430 \u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u0438 \u0430\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430 \u043d\u0438 \u043f\u043e-\u043c\u0430\u043b\u043a\u043e \u043c\u043e\u0434\u0443\u043b\u044f\u0440\u043d\u0430 \u0438 \u0441\u044a\u043e\u0442\u0432\u0435\u0442\u043d\u043e \u043f\u043e-\u0442\u0440\u0443\u0434\u043d\u0430 \u0437\u0430 \u043f\u043e\u0434\u0434\u0440\u044a\u0436\u0434\u0430, \u0442\u0435\u0441\u0442\u0432\u0430\u043d\u0435 \u0438 \u0442.\u043d. Singleton-\u0438\u0442\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0442 \u0447\u0435\u0441\u0442\u043e \u0432 Node.js, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 ",(0,r.jsx)(t.code,{children:"process"})," \u043e\u0431\u0435\u043a\u0442\u0430 \u0435 singleton."]}),"\n",(0,r.jsx)(t.p,{children:'\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u044f\u0442 pattern, \u043a\u043e\u0439\u0442\u043e \u0449\u0435 \u0440\u0430\u0437\u0433\u043b\u0435\u0434\u0430\u043c\u0435 \u0435 Dependency Injection, \u043f\u0440\u0438 \u043d\u0435\u0433\u043e \u0438\u0434\u0435\u044f\u0442\u0430 \u0435 \u043d\u0443\u0436\u043d\u0438\u0442\u0435 dependencies \u043d\u0430 \u0435\u0434\u0438\u043d \u043a\u043b\u0430\u0441 \u0434\u0430 \u0441\u0435 \u043f\u043e\u0434\u0430\u0432\u0430\u0442 \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043a\u0442\u0438\u0440\u0430\u0442 \u043e\u0442 \u0432\u044a\u043d\u0448\u0435\u043d \u0438\u0437\u043e\u0447\u043d\u0438\u043a \u043d\u0430\u0440\u0435\u0447\u0435\u043d "\u0438\u043d\u0436\u0435\u043a\u0442\u043e\u0440" \u043f\u0440\u0438 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438\u0440\u0430\u043d\u0435, \u0432\u043c\u0435\u0441\u0442\u043e \u0434\u0430 \u0441\u0435 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u0442 \u043e\u0442 \u0441\u0430\u043c\u0438\u044f\u0442 \u043d\u0435\u0433\u043e. \u0426\u0435\u043b\u0442\u0430 \u0435 \u0434\u0430 \u0441\u0435 \u043f\u043e\u043b\u0443\u0447\u0438 decoupling \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438\u0442\u0435 \u043a\u0430\u0442\u043e \u0442\u0430\u043a\u0430 \u0441\u0435 \u0441\u044a\u0437\u0434\u0430\u0432\u0430 \u043f\u043e-\u0434\u043e\u0431\u0440\u0430 \u043c\u043e\u0434\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442 \u0438 \u0432\u044a\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442 \u0437\u0430 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u044f. \u041d\u0430\u0439-\u0434\u043e\u0431\u0440\u0438\u044f\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 DI \u0435 \u043f\u0440\u0438 \u0442\u0435\u0441\u0442\u0432\u0430\u043d\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:'}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:'export default class BlogService {\n\tconstructor(db) {\n\t\tthis.db = db;\n\t}\n\tasync getAllPosts() {\n\t\treturn this.db.query("SELECT * FROM posts");\n\t}\n}\n'})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:'import BlogService from "./blogService"\nimport { db } from "./database"\nimport { mockDb } from "./mocks"\n\nconst blog = new BlogService(db);\nconst testBlog = new BlogService(mockDb);\n'})}),"\n",(0,r.jsx)(t.p,{children:"\u0412 \u0442\u043e\u0437\u0438 \u043f\u0440\u0438\u043c\u0435\u0440 \u0431\u0430\u0437\u0430\u0442\u0430 \u0434\u0430\u043d\u043d\u0438 \u043d\u0430 \u043f\u044a\u0440\u0432\u0438\u044f\u0442 \u0431\u043b\u043e\u0433 \u0435 \u0440\u0435\u0430\u043b\u043d\u0430 \u0438 \u0431\u0438 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043b\u0430 \u0432 production, \u0430 \u043d\u0430 \u0432\u0442\u043e\u0440\u0438\u044f\u0442 \u0435 \u0438\u043d\u0436\u0435\u043a\u0442\u0438\u0440\u0430\u043d\u0430 mock \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u0438, \u0441 \u043a\u043e\u044f\u0442\u043e \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u0442\u0435\u0441\u0442\u0432\u0430\u043c\u0435. \u0412 \u0441\u043b\u0443\u0447\u0430\u044f \u0438\u043d\u0436\u0435\u043a\u0442\u043e\u0440\u044a\u0442 \u0435 \u0444\u0430\u0439\u043b\u043d\u0430, \u043a\u043e\u0439\u0442\u043e \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438\u0440\u0430 \u0431\u043b\u043e\u0433\u043e\u0432\u0435\u0442\u0435. \u041a\u0430\u043a\u0442\u043e \u0432\u0438\u0436\u0434\u0430\u043c\u0435 \u0442\u043e\u0437\u0438 pattern \u0435 \u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u0435\u0437\u0435\u043d \u0437\u0430 decoupling, \u0442\u0435\u0441\u0442\u0432\u0430\u043d\u0435, \u0441\u044a\u0449\u043e \u0442\u0430\u043a\u0430 \u043d\u0438 \u0434\u0430\u0432\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 \u043d\u0443\u0436\u043d\u0438\u0442\u0435 dependencies, \u0447\u0440\u0435\u0437 signature-a \u043d\u0430 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0441\u0442\u043e\u0440\u0430. \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0438\u0442\u0435, \u043a\u043e\u0438\u0442\u043e \u0441\u044a\u0437\u0434\u0430\u0432\u0430 \u0441\u0430 \u0441\u0432\u044a\u0440\u0437\u0430\u043d\u0438 \u0441 \u043f\u043e\u0432\u0438\u0448\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u043e\u0441\u0442\u0442\u0430 \u043d\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0430\u0442\u0430."})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var s=n(6540);const r={},o=s.createContext(r);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);