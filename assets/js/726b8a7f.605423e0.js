"use strict";(self.webpackChunktopcoding=self.webpackChunktopcoding||[]).push([[590],{8315:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"nodejs-design-patterns/advanced-recipes","title":"Chapter 11. Advanced Recipes","description":"\u041a\u044a\u043c \u0442\u043e\u0437\u0438 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u043c\u0435 \u0440\u0430\u0437\u0433\u043b\u0435\u0434\u0430\u043b\u0438 \u0434\u043e\u0441\u0442\u0430 design pattern-\u0438 \u0438 \u0434\u043e\u0431\u0440\u0438 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438. \u0412 \u0442\u0430\u0437\u0438 \u0433\u043b\u0430\u0432\u0430 \u043f\u0440\u0438\u043b\u0430\u0433\u0430\u043c\u0435 \u0433\u043e\u043b\u044f\u043c\u0430 \u0447\u0430\u0441\u0442 \u043e\u0442 \u043d\u0430\u0443\u0447\u0435\u043d\u043e\u0442\u043e \u043a\u044a\u043c \u0442\u043e\u0437\u0438 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u0438. \u0418\u043c\u0430\u043c\u0435 \u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0435\u043d\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0447\u0435\u0441\u0442\u043e \u0441\u0440\u0435\u0449\u0430\u043d\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0432 \u0438\u0441\u0442\u0438\u043d\u0441\u043a\u0438\u044f \u0436\u0438\u0432\u043e\u0442. \u0420\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430\u043c\u0435 \u043a\u0430\u043a \u0434\u0430 \u0441\u0435 \u0441\u043f\u0440\u0430\u0432\u0438\u043c \u0441 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u043a\u0430\u043a \u0434\u0430 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u0430\u043c\u0435 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0447\u0440\u0435\u0437 batching & caching, \u0440\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430\u043c\u0435 \u043a\u0430\u043a \u0441\u0435 \u043f\u0440\u0435\u043a\u044a\u0441\u0432\u0430\u0442 \u0430\u0441\u044a\u043d\u0445\u0440\u043e\u043d\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u043a\u0430\u043a \u0434\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430\u0442\u0430 CPU heavy \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u043d\u0430\u0439-\u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0438\u044f\u0442 \u043d\u0430\u0447\u0438\u043d.","source":"@site/docs/nodejs-design-patterns/11. advanced-recipes.mdx","sourceDirName":"nodejs-design-patterns","slug":"/nodejs-design-patterns/advanced-recipes","permalink":"/notes/docs/nodejs-design-patterns/advanced-recipes","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"title":"Chapter 11. Advanced Recipes","sidebar_position":11},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 10. Universal JavaScript for Web Applications","permalink":"/notes/docs/nodejs-design-patterns/universal-js-for-web"},"next":{"title":"Chapter 12. Scalability and Architectural Patterns","permalink":"/notes/docs/nodejs-design-patterns/scalability-and-architectural-patterns"}}');var s=r(4848),c=r(8453);const a={title:"Chapter 11. Advanced Recipes",sidebar_position:11},o=void 0,i={},d=[];function l(e){const n={code:"code",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u041a\u044a\u043c \u0442\u043e\u0437\u0438 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u043c\u0435 \u0440\u0430\u0437\u0433\u043b\u0435\u0434\u0430\u043b\u0438 \u0434\u043e\u0441\u0442\u0430 design pattern-\u0438 \u0438 \u0434\u043e\u0431\u0440\u0438 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438. \u0412 \u0442\u0430\u0437\u0438 \u0433\u043b\u0430\u0432\u0430 \u043f\u0440\u0438\u043b\u0430\u0433\u0430\u043c\u0435 \u0433\u043e\u043b\u044f\u043c\u0430 \u0447\u0430\u0441\u0442 \u043e\u0442 \u043d\u0430\u0443\u0447\u0435\u043d\u043e\u0442\u043e \u043a\u044a\u043c \u0442\u043e\u0437\u0438 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u0438. \u0418\u043c\u0430\u043c\u0435 \u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0435\u043d\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0447\u0435\u0441\u0442\u043e \u0441\u0440\u0435\u0449\u0430\u043d\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0432 \u0438\u0441\u0442\u0438\u043d\u0441\u043a\u0438\u044f \u0436\u0438\u0432\u043e\u0442. \u0420\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430\u043c\u0435 \u043a\u0430\u043a \u0434\u0430 \u0441\u0435 \u0441\u043f\u0440\u0430\u0432\u0438\u043c \u0441 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u043a\u0430\u043a \u0434\u0430 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u0430\u043c\u0435 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0447\u0440\u0435\u0437 batching & caching, \u0440\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430\u043c\u0435 \u043a\u0430\u043a \u0441\u0435 \u043f\u0440\u0435\u043a\u044a\u0441\u0432\u0430\u0442 \u0430\u0441\u044a\u043d\u0445\u0440\u043e\u043d\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u043a\u0430\u043a \u0434\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430\u0442\u0430 CPU heavy \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u043d\u0430\u0439-\u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0438\u044f\u0442 \u043d\u0430\u0447\u0438\u043d."}),"\n",(0,s.jsx)(n.p,{children:"\u0417\u0430\u043f\u043e\u0447\u0432\u0430\u043c\u0435 \u0441 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438. \u041a\u0430\u043a\u0432\u043e \u0438\u043c\u0430\u043c\u0435 \u043f\u0440\u0435\u0434\u0432\u0438\u0434 \u043a\u043e\u0433\u0430\u0442\u043e \u043a\u0430\u0436\u0435\u043c \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0435\u043d\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442? \u0414\u043e\u0440\u0438 \u0438 \u0441\u0430\u043c\u0438\u044f\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0434\u0430 \u0438\u043c\u0430 \u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e \u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435 \u0430\u043a\u043e \u0437\u0430 \u0434\u0430 \u0431\u044a\u0434\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0430\u043d \u0441\u0435 \u0438\u0437\u0438\u0441\u043a\u0432\u0430 \u043d\u044f\u043a\u0430\u043a\u0432\u0430 \u0444\u043e\u0440\u043c\u0430 \u043d\u0430 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f, \u043a\u0430\u0442\u043e \u0437\u0430\u0440\u0435\u0436\u0434\u0430\u043d\u0435 \u043d\u0430 \u043a\u043e\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043b\u0438 \u0434\u0430 \u0441\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438 \u043d\u044f\u043a\u0430\u043a\u0432\u0430 \u0432\u0440\u044a\u0437\u043a\u0430 \u0447\u0440\u0435\u0437 \u043c\u0440\u0435\u0436\u0430\u0442\u0430, \u0442\u043e \u0442\u043e\u0433\u0430\u0432\u0430 \u0442\u043e\u0437\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u043e\u0436\u0435 \u0434\u0430 \u0441\u0435 \u0441\u0447\u0438\u0442\u0430 \u0437\u0430 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0435\u043d \u043f\u043e\u043d\u0435 \u0437\u0430 \u043d\u0430\u0448\u0438\u0442\u0435 \u0446\u0435\u043b\u0438 \u0432 \u043c\u043e\u043c\u0435\u043d\u0442\u0430. \u0422\u043e\u0432\u0430 \u043e\u0437\u043d\u0430\u0447\u0430\u0432\u0430, \u0447\u0435 \u043d\u0438\u0435 \u043c\u043e\u0436\u0435 \u0434\u0430 \u043e\u043a\u0430\u0436\u0435\u043c \u0432 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f, \u043a\u044a\u0434\u0435\u0442\u043e \u0438\u043c\u0430\u043c\u0435 \u0434\u043e\u0441\u0442\u044a\u043f \u0434\u043e \u043c\u0435\u0442\u043e\u0434\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430, \u043d\u043e \u0441\u0430\u043c\u0438\u044f\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043d\u0435 \u0435 \u0433\u043e\u0442\u043e\u0432 \u0434\u0430 \u0438\u0437\u0432\u044a\u0440\u0448\u0432\u0430 \u043a\u0430\u043a\u0432\u0438\u0442\u043e \u0438 \u0434\u0430 \u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438. \u0420\u0435\u0448\u0435\u043d\u0438\u0435\u0442\u043e, \u043a\u043e\u0435\u0442\u043e \u043d\u0438 \u0441\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430 \u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 \u0434\u0430 \u0438\u043c\u0430 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u0430 \u043e\u043f\u0430\u0448\u043a\u0430, \u043a\u043e\u044f\u0442\u043e \u0434\u0430 \u043f\u0440\u0438\u0435\u043c\u0430 \u0438 \u043f\u0430\u0437\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u0434\u043e\u043a\u0430\u0442\u043e \u0441\u0430\u043c\u0438\u044f\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043d\u0435 \u0435 \u0433\u043e\u0442\u043e\u0432. \u041f\u0440\u0438\u043c\u0435\u0440:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'class Database extends EventEmitter {\r\n  constructor() {\r\n    super();\r\n    this.connected = false;\r\n    this.queue = [];\r\n  }\r\n\r\n  query(sql) {\r\n    if (!this.connected) {\r\n      return new Promise((resolve, reject) => {\r\n        this.queue.push(() => {\r\n          this.query(sql).then(resolve).catch(reject);\r\n        });\r\n      });\r\n    }\r\n\r\n    const res = "Result of the query";\r\n    return Promise.resolve(res);\r\n  }\r\n\r\n  connect() {\r\n    setTimeout(() => {\r\n      this.connected = true;\r\n      this.emit("connected");\r\n\r\n      this.queue.forEach((op) => op());\r\n      this.queue = [];\r\n    }, 500);\r\n  }\r\n}\r\n\r\nconst db = new Database();\r\ndb.query("SELECT * FROM users");\r\ndb.query("SELECT * FROM items");\r\n\r\ndb.connect();\n'})}),"\n",(0,s.jsxs)(n.p,{children:['\u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0439\u043a\u0438 \u0442\u043e\u0437\u0438 \u043f\u043e\u0434\u0445\u043e\u0434 \u043d\u0430\u0448\u0430\u0442\u0430 \u0430\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u044f\u043c\u0430 \u043d\u0443\u0436\u0434\u0430 \u0434\u0430 \u0441\u0435 \u0441\u044a\u043e\u0431\u0440\u0430\u0437\u044f\u0432\u0430 \u0441 \u0442\u043e\u0432\u0430 \u0434\u0430\u043b\u0438 \u0431\u0430\u0437\u0430\u0442\u0430 \u0435 \u0433\u043e\u0442\u043e\u0432\u0430 \u0438\u043b\u0438 \u043d\u0435 - \u0434\u0438\u0440\u0435\u043a\u0442\u043d\u043e \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u0437\u0430\u043f\u043e\u0447\u043d\u0435\u043c \u0434\u0430 \u044f \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043c\u0435, \u043a\u0430\u0442\u043e \u0438\u0434\u0435\u044f\u0442\u0430 \u0435, \u0447\u0435 \u0430\u043a\u043e \u0431\u0430\u0437\u0430\u0442\u0430 \u043d\u0435 \u0435 \u0433\u043e\u0442\u043e\u0432\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0449\u0435 \u0441\u0430 \u0432 "pending" state, \u0434\u043e\u043a\u0430\u0442\u043e \u043d\u0435 \u0434\u043e\u0439\u0434\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u0434\u0430 \u0431\u044a\u0434\u0430\u0442 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438. \u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043e\u0442\u0433\u043e\u0440\u0435 ',(0,s.jsx)(n.code,{children:"db.query"})," \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\u0442\u0435 \u0449\u0435 \u0431\u044a\u0434\u0430\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0435\u043d\u0438 \u043f\u043e \u0442\u043e\u0447\u043d\u043e \u0442\u043e\u0437\u0438 \u043d\u0430\u0447\u0438\u043d. \u0412 \u0440\u0435\u0430\u043b\u043d\u0438\u044f\u0442 \u0441\u0432\u044f\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u043a\u0430\u0442\u043e Mongoose \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0442 \u043f\u043e\u0434\u043e\u0431\u043d\u0438 \u043f\u043e\u0445\u0432\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u043e \u0437\u0430 \u0442\u0430\u043a\u0438\u0432\u0430 \u0446\u0435\u043b\u0438."]}),"\n",(0,s.jsx)(n.p,{children:"\u0421\u043b\u0435\u0434\u0432\u0430\u0449\u0430\u0442\u0430 \u0438\u0434\u0435\u044f, \u043a\u043e\u044f\u0442\u043e \u0449\u0435 \u0440\u0430\u0437\u0433\u043b\u0435\u0434\u0430\u043c\u0435 \u0435 \u043a\u0430\u043a \u0434\u0430 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u0430\u043c\u0435 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0442\u0435 \u0441\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0447\u0440\u0435\u0437 batching & caching. \u0422\u0430\u0437\u0438 \u0442\u0435\u0445\u043d\u0438\u043a\u0430 \u0435 \u043f\u043e\u043b\u0435\u0437\u043d\u0430 \u043a\u043e\u0433\u0430\u0442\u043e \u0438\u043c\u0430\u043c\u0435 \u0430\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0441 \u043c\u043d\u043e\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a, \u043a\u043e\u044f\u0442\u043e \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430 \u0435\u0434\u043d\u0430 \u0438 \u0441\u044a\u0449\u0430 \u0441\u0440\u0430\u0432\u043d\u0438\u0442\u0435\u043b\u043d\u043e \u0441\u043a\u044a\u043f\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043d\u043e\u0432\u043e \u0438 \u043e\u0442\u043d\u043e\u0432\u043e. Batching \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u043a\u043e\u0433\u0430\u0442\u043e \u0435\u0434\u043d\u0430 \u0438 \u0441\u044a\u0449\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0441\u0435 \u0441\u0442\u0430\u0440\u0442\u0438\u0440\u0430 \u043e\u0442 \u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u0438 \u0438\u0437\u0442\u043e\u0447\u043d\u0438\u043a\u0430, \u0442\u043e \u0432 \u0442\u043e\u0437\u0438 \u0441\u043b\u0443\u0447\u0430\u0438 \u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u043c \u0434\u0430 \u043a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u0430\u043c\u0435 \u0442\u0435\u0437\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u0435\u0434\u043d\u0430, \u0442\u043e\u0435\u0441\u0442 \u0437\u0430\u0435\u0439\u043a\u0438, \u0447\u0435 \u0440\u0435\u0437\u0443\u043b\u0442\u0430\u0442\u0430 \u043e\u0442 \u043d\u044f\u043a\u043e\u043b\u043a\u043e\u0442\u043e \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u044f \u043d\u0430 \u0442\u0430\u0437\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0449\u0435 \u0431\u044a\u0434\u0435 \u0435\u0434\u0438\u043d \u0438 \u0441\u044a\u0449 \u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u043c \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u0430 \u044f \u0438\u0437\u043f\u044a\u043b\u043d\u0438\u043c \u0432\u0435\u0434\u043d\u044a\u0436 \u0438 \u0434\u0430 \u0432\u044a\u0440\u043d\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u0442\u0430\u0442\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u043a\u044a\u043c \u0438\u0437\u0442\u043e\u0447\u043d\u0438\u0446\u0438\u0442\u0435. Caching \u043e\u0442 \u0434\u0440\u0443\u0433\u0430 \u0441\u0442\u0440\u0430\u043d\u0430 \u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0432\u044a\u0440\u043d\u0435\u043c \u0433\u043e\u0442\u043e\u0432 \u0440\u0435\u0437\u0443\u043b\u0442\u0430\u0442 \u043e\u0442 \u043f\u0440\u0435\u0434\u0438\u0448\u043d\u043e \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435 \u043d\u0430 \u0435\u0434\u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f, \u0442\u043e\u0435\u0441\u0442 \u0432 \u043d\u044f\u043a\u0430\u043a\u044a\u0432 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u0440\u0435\u0434\u0438 \u0432\u0440\u0435\u043c\u0435 \u0441\u043c\u0435 \u0438\u0437\u043f\u044a\u043b\u043d\u0438\u043b\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0438 \u0441\u043c\u0435 \u0437\u0430\u043f\u0430\u0437\u0438\u043b\u0438 \u0440\u0435\u0437\u0443\u043b\u0442\u0430\u0442\u0430, \u0442\u043e\u0432\u0430 \u043d\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0432\u0430 \u0441\u0435\u0433\u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043d\u043e \u0434\u0430 \u0432\u044a\u0440\u043d\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u0442\u0430\u0442\u0430. \u0422\u0435\u0437\u0438 \u0434\u0432\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u0447\u0435\u0441\u0442\u043e \u0441\u0435 \u043f\u0440\u0438\u043b\u0430\u0433\u0430\u0442 \u0437\u0430\u0435\u0434\u043d\u043e, \u0435\u0434\u043d\u0430\u0442\u0430 \u043d\u0438 \u043f\u043e\u043c\u0430\u0433\u0430 \u0434\u0430 \u0441\u0435 \u0441\u043f\u0440\u0430\u0432\u044f\u043c\u0435 \u0441 \u0434\u0443\u043f\u043b\u0438\u043a\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u044f\u0432\u043a\u0438, \u0430 \u0434\u0440\u0443\u0433\u0430\u0442\u0430 \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u0438 \u0437\u0430\u044f\u0432\u043a\u0438. \u041f\u0440\u0438\u043c\u0435\u0440:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'class Orders {\r\n\tconstructor(){\r\n\t\tthis.running = new Map();\r\n\t\tthis.cache = new Map();\r\n\t}\r\n\r\n\ttotalSales(product){\r\n\t\tif(this.cache.has(product))\r\n\t\t\treturn Promise.resolve(this.cache.get(product));\r\n\r\n\t\tif(this.running.has(product))\r\n\t\t\treturn this.running.get(product);\r\n\r\n\t\tconst promise = this.totalSalesRaw(product);\r\n\t\tthis.running.set(product, promise);\r\n\r\n\t\ttry{\r\n\t\t\tconst result = await promise;\r\n\t\t\tthis.cache.set(product, result);\r\n\t\t\treturn result;\r\n\t\t} catch(err){\r\n\t\t\tconsole.error("Operation failed: ", err.message)\r\n\t\t} finally {\r\n\t\t\tthis.running.delete(product);\r\n\t\t}\r\n\t}\r\n\r\n\ttotalSalesRaw(product){\r\n\t\treturn new Promise(resolve => {\r\n\t\t    setTimeout(() => resolve(100), 100);\r\n\t\t});\r\n\t}\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u0422\u043e\u0437\u0438 \u043f\u0440\u0438\u043c\u0435\u0440 \u0435 \u0441\u0435\u043c\u043f\u043b\u0430 \u0432\u0435\u0440\u0441\u0438\u044f \u043d\u0430 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f\u0442\u0430, \u0432 \u0440\u0435\u0430\u043b\u043d\u0438\u044f\u0442 \u0441\u0432\u044f\u0442 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0438\u043c \u043d\u0435\u0449\u0430 \u043a\u0430\u0442\u043e cache invalidation, \u043a\u043e\u0435\u0442\u043e \u043d\u0435 \u0435 \u0442\u0440\u0438\u0432\u0438\u0430\u043b\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430."}),"\n",(0,s.jsx)(n.p,{children:"\u0412\u0435\u0447\u0435 \u0440\u0430\u0437\u0433\u043b\u0435\u0436\u0434\u0430\u043c\u0435 \u043a\u0430\u043a \u0441\u0435 \u043f\u0440\u0435\u043a\u044a\u0441\u0432\u0430\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438. \u0412 multithreaded \u043e\u0431\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0440\u0435\u043a\u044a\u0441\u0432\u0430\u043d\u0435\u0442\u043e \u0435 \u043b\u0435\u0441\u043d\u043e, \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u0435\u043a\u044a\u0441\u0432\u0430\u0448 thread-a. \u0412 JS, \u043e\u0431\u0430\u0447\u0435, \u043d\u0435 \u0435 \u0442\u043e\u043b\u043a\u043e\u0432\u0430 \u043b\u0435\u0441\u043d\u043e \u043f\u043e\u0440\u0430\u0434\u0438 \u0444\u0430\u043a\u0442\u0430, \u0447\u0435 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u0442\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0441\u0435 \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u0430\u0442 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043e\u0442 \u043f\u043e-\u043d\u0438\u0441\u043a\u043e \u043d\u0438\u0432\u043e. \u0412 \u0442\u0430\u043a\u044a\u0432 \u0441\u043b\u0443\u0447\u0432\u0430\u0439 \u043f\u0440\u0435\u043a\u044a\u0441\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0442\u0430\u043a\u0430\u0432\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043a\u043e\u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e, \u0442\u043e\u0435\u0441\u0442 \u0437\u0430 \u0434\u0430 \u043f\u0440\u0435\u043a\u044a\u0441\u043d\u0435\u043c \u0435\u0434\u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0438\u0435 - \u0442\u0435\u0437\u0438, \u043a\u043e\u0438\u0442\u043e \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430\u043c\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u0442\u0430 - \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0438\u043c \u0437\u0430\u0435\u0434\u043d\u043e \u0441 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430, \u043a\u043e\u0439\u0442\u043e \u043c\u043e\u0436\u0435 \u0434\u0430 \u0437\u0430\u044f\u0432\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u0435 \u0437\u0430 \u043f\u0435\u0440\u043a\u044a\u0441\u0432\u0430\u043d\u0435\u0442\u043e \u0438. \u041d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 \u0442\u043e\u0432\u0430 \u0441\u0435 \u0441\u043b\u0443\u0447\u0432\u0430 \u0447\u0440\u0435\u0437 \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u043d\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043d\u0430 \u043d\u044f\u043a\u0430\u043a\u044a\u0432 state - \u0442\u043e\u043a\u0435\u043d \u0438\u043b\u0438 \u0444\u043b\u0430\u0433. \u0422\u0435\u0437\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e \u043f\u0440\u0438\u043d\u0446\u0438\u043f \u0435 \u0443\u0434\u0430\u0447\u043d\u043e \u0434\u0430 \u0441\u0435 \u043f\u0440\u0430\u0432\u044f\u0442 \u0441\u043b\u0435\u0434 \u0432\u0441\u044f\u043a\u0430 \u0432\u0430\u0436\u043d\u0430 \u0441\u0442\u044a\u043f\u043a\u0430 \u0432 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u0442\u0430. \u0412 \u043c\u043e\u043c\u0435\u043d\u0442\u0430, \u0432 \u043a\u043e\u0439\u0442\u043e \u0437\u0430\u0441\u0435\u0447\u0435\u043c \u0436\u0435\u043b\u0430\u043d\u0438\u0435 \u0437\u0430 \u043f\u0440\u0435\u043a\u044a\u0441\u0432\u0430\u043d\u0435 \u043d\u0438\u0435 \u0445\u0432\u044a\u0440\u043b\u044f\u043c\u0435 \u0433\u0440\u0435\u0448\u043a\u0430 \u0438\u043b\u0438 reject-\u0432\u0430\u043c\u0435 promise-a. \u041f\u0440\u0438\u043c\u0435\u0440:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'async function cancelable(token) {\r\n  const resultA = await asyncOperation("A");\r\n  if (token.cancel) throw new Error("Operation canceled after A!");\r\n\r\n  const resultB = await asyncOperation("B");\r\n  if (token.cancel) throw new Error("Operation canceled after B!");\r\n\r\n  const resultC = await asyncOperation("C");\r\n  if (token.cancel) throw new Error("Operation canceled after C!");\r\n\r\n  return [resultA, resultB, resultC];\r\n}\r\n\r\nfunction asyncOperation(name) {\r\n  return new Promise((res) => setTimeout(() => res(`Result ${name}`), 100));\r\n}\r\n\r\nconst token = { cancel: false };\r\ncancelable(token)\r\n  .then((res) => console.log(res))\r\n  .catch((err) => console.error(err.message));\r\n\r\nsetTimeout(() => {\r\n  token.cancel = true;\r\n}, 150);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u041d\u0435\u0449\u043e\u0442\u043e, \u043a\u043e\u0435\u0442\u043e \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u0435 \u0437\u0430\u043f\u043e\u043c\u043d\u0438 \u0435, \u0447\u0435 \u0432 JS \u043f\u0440\u0435\u043a\u044a\u0441\u0432\u0430\u043d\u0435\u0442\u043e \u0441\u0442\u0430\u0432\u0430 \u0440\u044a\u0447\u043d\u043e, \u0442\u043e\u0435\u0441\u0442 \u043d\u0438\u0435 \u043a\u0430\u0442\u043e \u0441\u044a\u0437\u0434\u0430\u0442\u0435\u043b\u0438 \u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\u0442\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0438\u043c \u0442\u0430\u043a\u044a\u0432 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u044a\u043c, \u043d\u044f\u043c\u0430\u043c\u0435 \u0432\u0433\u0440\u0430\u0434\u0435\u043d\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043a\u0430\u0442\u043e ",(0,s.jsx)(n.code,{children:"Promise.cancel"})," \u0438\u043b\u0438 \u043d\u0435\u0449\u043e \u043e\u0442 \u0442\u043e\u0437\u0438 \u0441\u043e\u0440\u0442."]}),"\n",(0,s.jsxs)(n.p,{children:["\u041f\u0440\u043e\u0434\u044a\u043b\u0436\u0430\u0432\u0430\u043c\u0435 \u0441 \u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0437\u0430 CPU heavy \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u0442\u043e\u0435\u0441\u0442 \u0442\u0430\u043a\u0438\u0432\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u043a\u043e\u0438\u0442\u043e \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u043d\u043e \u043c\u043e\u0433\u0430\u0442 \u0434\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u0430\u0442 thread-a \u043d\u0438 \u0438 \u043a\u043e\u0438\u0442\u043e \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u0435 \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0442 \u043e\u0442 JS, \u043d\u044f\u043c\u0430 \u043a\u0430\u043a \u0434\u0430 \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u0430\u043c\u0435. \u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430 \u0442\u0430\u043a\u0430\u0432\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0431\u0438 \u0431\u0438\u043b\u043e \u0434\u0430 \u0438\u0442\u0435\u0440\u0438\u0440\u0430\u043c\u0435 \u043f\u0440\u0435\u0437 \u043c\u0438\u043b\u0438\u0430\u0440\u0434 \u0438\u043b\u0438 \u0442\u0440\u0438\u043b\u0438\u043e\u043d \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0432 \u043c\u0430\u0441\u0438\u0432. \u041f\u044a\u0440\u0432\u0438\u044f\u0442 \u043f\u043e\u0434\u0445\u043e\u0434 \u0435 \u0434\u0430 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u043c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u0442\u0430 \u043d\u0430 batch-\u043e\u0432\u0435 \u0438\u043b\u0438 chunk-\u043e\u0432\u0435 \u043a\u0430\u0442\u043e \u043c\u0435\u0436\u0434\u0443 \u0432\u0441\u0435\u043a\u0438 \u0434\u044f\u043b \u043e\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u0442\u0430 \u0434\u0430 \u043f\u0440\u0435\u0434\u0430\u0432\u0430\u043c\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b \u043d\u0430 event loop-\u0430 \u0437\u0430 \u0434\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0438 I/O \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\u0442\u0435, \u043a\u043e\u0438\u0442\u043e \u0447\u0430\u043a\u0430\u0442. \u0422\u043e\u0437\u0438 \u043f\u043e\u0434\u0445\u043e\u0434 \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u043b\u0430\u0433\u0430\u043c\u0435, \u0447\u0440\u0435\u0437 ",(0,s.jsx)(n.code,{children:"setImmediate(cb)"})," \u0438\u043b\u0438 ",(0,s.jsx)(n.code,{children:"setTimeout(cb, 0)"}),". \u041f\u0440\u0438\u043c\u0435\u0440:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const sum = (n, cb) => {\r\n  let sum = 0;\r\n  let i = 1;\r\n\r\n  const addChunk = () => {\r\n    const size = 10000;\r\n    const end = Math.min(i + size, n + 1);\r\n\r\n    while (i < end) sum += i++;\r\n\r\n    if (i <= n) setImmediate(addChunk);\r\n    else cb(sum);\r\n  };\r\n  addChunk();\r\n};\r\n\r\nsum(1e7, (res) => console.log("Sum: ", res));\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u0412\u0442\u043e\u0440\u0438\u044f\u0442 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0437\u0430 \u0441\u043f\u0440\u0430\u0432\u044f\u043d\u0435 \u0441 \u0442\u0430\u043a\u0438\u0432\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0435 \u0447\u0440\u0435\u0437 child processes. Node.js \u0438\u043c\u0430 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d ",(0,s.jsx)(n.code,{children:"child_process"})," \u043c\u043e\u0434\u0443\u043b, \u043a\u043e\u0439\u0442\u043e \u043d\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0432\u0430 \u0434\u0430 spin-\u0432\u0430\u043c\u0435/spawn-\u0432\u0430\u043c\u0435 \u043d\u043e\u0432\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0438, \u0442\u043e\u0435\u0441\u0442 \u043a\u0430\u0442\u043e \u0432\u044a\u043d\u0436\u043d\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0438. \u041f\u0440\u0435\u043c\u0435\u0441\u0442\u0432\u0430\u0439\u043a\u0438 \u0442\u0435\u0436\u043a\u0438\u0442\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043e\u0442 main thread-a \u043a\u044a\u043c child process-a \u043d\u0438\u0435 \u0433\u043e \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0430\u0432\u0430\u043c\u0435 \u0434\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0432\u0430 \u0434\u0440\u0443\u0433\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438. \u041a\u043e\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430 \u043c\u0435\u0436\u0434\u0443 \u0433\u043b\u0430\u0432\u043d\u0438\u044f\u0442 \u043f\u0440\u043e\u0446\u0435\u0441 \u0438 child \u043f\u0440\u043e\u0446\u0435\u0441\u0430 \u0441\u0435 \u0441\u043b\u0443\u0447\u0432\u0430 \u0447\u0440\u0435\u0437 inter-process communication (IPC). \u041f\u0440\u0438\u043c\u0435\u0440:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'// child.js\r\nprocess.on("message", (msg) => {\r\n  const { start, end } = msg;\r\n  let sum = 0;\r\n  for (let i = start; i < end; i++) sum += i;\r\n\r\n  process.send(sum);\r\n});\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'// main.js\r\nconst { fork } = require("child_process");\r\nconst child = fork("child.js");\r\n\r\nchild.send({ start: 1, end: 1000000000 });\r\n\r\nchild.on("message", (msg) => {\r\n  console.log("Sum: ", msg);\r\n  child.disconnect();\r\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0439\u043a\u0438 \u0442\u043e\u0437\u0438 \u043f\u043e\u0445\u043e\u0434 \u043d\u0435 \u0437\u0430\u0431\u0430\u0432\u044f\u043c\u0435 \u0442\u0435\u0436\u043a\u0430\u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u0430\u0442\u043e \u044f \u0447\u044a\u043d\u043a\u0432\u0430\u043c\u0435, \u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u043d\u043e \u044f \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430\u043c\u0435, \u0433\u043b\u0430\u0432\u043d\u0438\u044f\u0442 \u043f\u0440\u043e\u0446\u0435\u0441 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0430\u0432\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u043a\u0430\u043a\u0442\u043e \u043e\u0431\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u043e \u0438 \u0441\u043b\u0435\u0434 \u043a\u0430\u0442\u043e \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043c\u0435 \u043d\u043e\u0432 \u043f\u0440\u043e\u0446\u0435\u0441 \u043d\u0438\u0435 \u0441\u0435 \u0432\u044a\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043c\u0435 \u043e\u0442 \u043f\u043e\u0432\u0435\u0447\u0435 \u044f\u0434\u0440\u0430 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430. \u0421\u044a\u043e\u0442\u0432\u0435\u0442\u043d\u043e \u0437\u0430 \u0441\u043c\u0435\u0442\u043a\u0430 \u043d\u0430 \u0442\u0435\u0437\u0438 \u0432\u044a\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043d\u0438\u0435 \u0438\u0437\u0440\u0430\u0437\u0445\u043e\u0436\u0434\u0430\u043c\u0435 \u043f\u043e\u0432\u0435\u0447\u0435 \u043f\u0430\u043c\u0435\u0442 \u0438 \u0441\u044a\u0449\u043e \u0442\u0430\u043a\u0430 \u0441\u043c\u0435 \u0434\u043b\u044a\u0436\u043d\u0438 \u0434\u0430 \u0441\u044a\u043e\u0431\u0440\u0430\u0437\u0438\u043c \u0434\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u043e\u0442\u043e \u0432\u0440\u0435\u043c\u0435, \u043a\u043e\u0435\u0442\u043e \u043c\u0438\u043d\u0430\u0432\u0430 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u0435 \u0440\u0430\u0437\u043c\u0435\u043d\u044f\u0442 \u0441\u044a\u043e\u0431\u0449\u0435\u043d\u0438\u044f."}),"\n",(0,s.jsxs)(n.p,{children:["\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u044f\u0442 \u043d\u0430\u0447\u0438\u043d \u0437\u0430 \u0441\u043f\u0440\u0430\u0432\u044f\u043d\u0435 \u0441\u044a\u0432 CPU heavy \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0435 \u0447\u0440\u0435\u0437 \u0442\u0430\u043a\u0430 \u043d\u0430\u0440\u0435\u0447\u0435\u043d\u0438\u0442\u0435 Worker Threads. \u0422\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0442 \u043e\u0442\u043d\u043e\u0432\u043e \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u0430\u0440\u0430\u043b\u0435\u043b\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u043d\u043e \u0437\u0430 \u0440\u0430\u0437\u043b\u0438\u043a\u0430 \u043e\u0442 child processes, \u0442\u0435 \u0441\u043f\u043e\u0434\u0435\u043b\u044f\u0442 \u043f\u0430\u043c\u0435\u0442 \u0441 \u0433\u043b\u0430\u0432\u043d\u0438\u044f\u0442 \u043f\u0440\u043e\u0446\u0435\u0441, \u0432\u044a\u043f\u0440\u0435\u043a\u0438, \u0447\u0435 \u0432\u0441\u0435\u043a\u0438 worker \u0438\u043c\u0430 \u0441\u0432\u043e\u0439 engine & event loop. \u041f\u043e \u043f\u0440\u0438\u043d\u0446\u0438\u043f worker-\u0438\u0442\u0435 \u0441\u0430 \u043f\u043e \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0438, \u043a\u043e\u0433\u0430\u0442\u043e \u0438\u043c\u0430\u043c\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u043a\u043e\u0439\u0442\u043e \u0441\u0430 \u0441\u0432\u044a\u0440\u0437\u0430\u043d\u0438 \u0441 \u043a\u043e\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u044f \u0441 main thread-a, \u0442\u043e\u0432\u0430 \u0435 \u043e\u0442\u043d\u043e\u0432\u043e, \u0437\u0430\u0449\u043e\u0442\u043e \u0441\u043f\u043e\u0434\u0435\u043b\u044f\u0442 \u043f\u0430\u043c\u0435\u0442 \u0441 \u043d\u0435\u044f, \u0430 \u043d\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0442 IPC. Woker-\u0438\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u044f\u0442 \u043f\u043e \u043f\u043e\u0434\u043e\u0431\u0435\u043d \u043d\u0430\u0447\u0438\u043d, \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u0442 \u0441\u0435 \u0447\u0440\u0435\u0437 ",(0,s.jsx)(n.code,{children:"worker_threads"})," \u043c\u043e\u0434\u0443\u043b\u0430 \u0438 \u043c\u043e\u0436\u0435 \u0434\u0430 \u0438\u043c \u0431\u044a\u0434\u0435 \u0434\u0430\u0432\u0430\u0442 \u0441\u043a\u0440\u0438\u043f\u0442 \u0438\u043b\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u044f\u0442\u043e \u0434\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430\u0442 (\u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0430\u043d\u0430). \u041a\u043e\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430 \u0441\u0435 \u0438\u0437\u0432\u044a\u0440\u0448\u0432\u0430 \u0447\u0440\u0435\u0437 \u0441\u044a\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u0440\u0438\u043c\u0435\u0440:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const { Worker, isMainThread, parentPort, workerData } =\r\n  reqire("worker_threads");\r\n\r\nif (isMainThread) {\r\n  const worker = new Worker(__filename, {\r\n    workerData: {\r\n      start: 1,\r\n      end: 1000000000,\r\n    },\r\n  });\r\n\r\n  worker.on("message", (msg) => console.log("Sum: ", msg));\r\n} else {\r\n  const { start, end } = workerData;\r\n\r\n  let sum = 0;\r\n  for (let i = start; i < end; i++) sum += i;\r\n\r\n  parentPort.postMessage(sum);\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u041f\u0440\u0438\u043c\u0435\u0440\u044a\u0442 \u0440\u0430\u0431\u043e\u0442\u0438 \u043f\u043e \u0441\u043b\u0435\u0434\u043d\u0438\u044f\u0442 \u043d\u0430\u0447\u0438\u043d - \u0410\u043a\u043e \u0441\u043c\u0435 \u0432 \u0433\u043b\u0430\u0432\u043d\u0438\u044f\u0442 thread \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043c\u0435 worker, \u043a\u043e\u0439\u0442\u043e \u0434\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u0442\u0430 \u0438 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0430\u0432\u0430\u043c\u0435 \u0441 \u0437\u0430\u0434\u0430\u0447\u0438\u0442\u0435 \u0441\u0438, \u0430\u043a\u043e \u0441\u043c\u0435 \u0432 worker-a \u0438\u0437\u043f\u044a\u043b\u043d\u044f\u0432\u0430\u043c\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u0442\u0430 \u0438 \u043f\u0440\u0430\u0449\u0430\u043c\u0435 \u0441\u044a\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 main thread-a \u0441 \u0440\u0435\u0437\u0443\u043b\u0442\u0430\u0442\u0430."})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var t=r(6540);const s={},c=t.createContext(s);function a(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);